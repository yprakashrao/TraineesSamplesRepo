<!DOCTYPE html>
<html lang="en">

<head>
      <meta charset="UTF-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Preparing Table data</title>
</head>

<body>
      <h3>Retrieving api data in a table</h3>
      <button id="datatab">data from api</button>

      <table border="1px ">
            <thead>
                  <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>User Name</th>
                        <th>Email</th>
                        <th>Address</th>
                        <th>Phone</th>
                        <th>Website</th>
                        <th>Company</th>
                        <th>Edit</th>
                        <th>Delete</th>
                  </tr>
            </thead>
            <tbody id="displayapidata">
                  <tr>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td>EDIT</td>
                        <td>DELETE</td>
                  </tr>
            </tbody>
      </table>

      <script>
            document.getElementById("datatab").addEventListener('click', getapidata);

            function getapidata() {
                  fetch('https://jsonplaceholder.typicode.com/users')//this is a fake rest api from jsonplaceholder
                        .then((res) => res.json())
                        .then((data) => {
                              console.log(data);
                              var tab = "";
                              // var address = "";
                              for (var i = 0; i < data.length; i++) {
                                    // address += address.street + "," + address.city + ","+ address.suit ;
                                    tab += `
                              <tr>
                               <td>${data[i].id}</td>
                               <td>${data[i].name}</td>
                               <td>${data[i].username}</td>
                               <td>${data[i].email}</td>
                               <td>${data[i].address.street + "," + data[i].address.city + "," +
                                          data[i].address.suite + "," + data[i].address.zipcode + "," +
                                          data[i].address.geo.lat}</td>
                               <td>${data[i].phone}</td>
                               <td>${data[i].website}</td>
                               <td>${data[i].company.name + "," + data[i].company.catchPhrase + "," +
                                          data[i].company.bs}</td>
                               </tr>  
                              `;
                              }
                              document.getElementById("displayapidata").innerHTML = tab;
                        });
            }
      </script>
</body>

</html>